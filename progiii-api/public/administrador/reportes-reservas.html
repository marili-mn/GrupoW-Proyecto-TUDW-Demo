<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informes de Reservas - Administrador</title>
    <link rel="stylesheet" href="../styless/main.css">
</head>
<body>
    <script src="../scripts/auth.js"></script>
    <script src="../scripts/icons.js"></script>
    <script>
        // Verificar autenticación y rol de administrador
        if (!window.auth || !window.auth.isAuthenticated() || !window.auth.isAdmin()) {
            window.location.href = '../login.html';
        }
    </script>
    <script src="../scripts/sidebar.js" defer></script>

    <!-- NAV PRINCIPAL -->
    <nav class="main-nav">
        <h1>Informes de Reservas</h1>
    </nav>

    <!-- CONTENIDO -->
    <div style="max-width: 1000px; margin: 0 auto; padding: 20px;">
        <div class="controls-container" style="margin-bottom: 30px;">
            <label for="fecha-desde">Fecha Desde:</label>
            <input type="date" id="fecha-desde">
            
            <label for="fecha-hasta">Fecha Hasta:</label>
            <input type="date" id="fecha-hasta">
            
            <button id="buscar-btn" class="view-btn">Buscar</button>
            <button id="export-pdf-btn" class="add-btn">
                <img src="../img/export pdf.png" alt="PDF" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 5px;"> Exportar a PDF
            </button>
            <button id="export-csv-btn" class="edit-btn">
                <img src="../img/export csv.png" alt="CSV" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 5px;"> Exportar a CSV
            </button>
        </div>

        <div class="table-container">
            <table class="usuarios-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Fecha</th>
                        <th>Cliente</th>
                        <th>Salón</th>
                        <th>Turno</th>
                        <th>Servicios</th>
                        <th>Importe Total</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="reservas-body">
                </tbody>
            </table>
        </div>

        <p id="no-results" style="display: none; text-align: center; color: gray; margin-top: 20px;">
            No se encontraron reservas en el rango de fechas seleccionado.
        </p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="../scripts/reportes-reservas.js" defer></script>
</body>
</html>

